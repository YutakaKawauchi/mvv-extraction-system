# MVVé¡ä¼¼æ€§åˆ†æã®ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£åˆ†æ

## ä¼æ¥­è¿½åŠ æ™‚ã®è¨ˆç®—ã‚³ã‚¹ãƒˆ

### ç¾çŠ¶ï¼ˆ62ç¤¾ï¼‰
- **é¡ä¼¼åº¦ãƒãƒˆãƒªãƒƒã‚¯ã‚¹**: 62Ã—62 = 3,844ã‚»ãƒ«
- **è¨ˆç®—é‡**: O(nÂ²) = 62Â² = 3,844å›ã®ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦è¨ˆç®—
- **å‡¦ç†æ™‚é–“**: ç´„3ç§’ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰

### ä¼æ¥­1ç¤¾è¿½åŠ ï¼ˆ63ç¤¾ï¼‰ã®å ´åˆ

#### ğŸ’¡ åŠ¹ç‡çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆå¢—åˆ†è¨ˆç®—ï¼‰
1. **æ–°è¦ä¼æ¥­ã®Embeddingç”Ÿæˆ**: 1ç¤¾åˆ†ã®ã¿
2. **é¡ä¼¼åº¦è¨ˆç®—**: æ–°è¦ä¼æ¥­ vs æ—¢å­˜62ç¤¾ = 62å›ã®ã¿
3. **ãƒãƒˆãƒªãƒƒã‚¯ã‚¹æ›´æ–°**: 
   - æ–°ã—ã„è¡Œ/åˆ—ã‚’è¿½åŠ 
   - å¯¾è§’ç·šè¦ç´ ï¼ˆè‡ªå·±é¡ä¼¼åº¦ï¼‰= 1.0

#### è¨ˆç®—é‡æ¯”è¼ƒ
```
âŒ å…¨å†è¨ˆç®—: O(63Â²) = 3,969å› â†’ +125å›ï¼ˆ+3.2%ï¼‰
âœ… å¢—åˆ†è¨ˆç®—: O(n) = 62å›ã®ã¿ â†’ å¤§å¹…ãªåŠ¹ç‡åŒ–
```

## APIã‚³ã‚¹ãƒˆåˆ†æ

### OpenAI Embedding APIï¼ˆtext-embedding-3-smallï¼‰
- **æ–™é‡‘**: $0.02 per 1M tokens
- **æ—¥æœ¬èªMVVãƒ†ã‚­ã‚¹ãƒˆ**: å¹³å‡200æ–‡å­— â‰ˆ 300ãƒˆãƒ¼ã‚¯ãƒ³

### 1ç¤¾è¿½åŠ ã®ã‚³ã‚¹ãƒˆ
```
æ–°è¦ä¼æ¥­1ç¤¾ã®å ´åˆ:
- Mission Embedding: ~100ãƒˆãƒ¼ã‚¯ãƒ³
- Vision Embedding: ~100ãƒˆãƒ¼ã‚¯ãƒ³  
- Values Embedding: ~150ãƒˆãƒ¼ã‚¯ãƒ³
- Combined Embedding: ~300ãƒˆãƒ¼ã‚¯ãƒ³
åˆè¨ˆ: ~650ãƒˆãƒ¼ã‚¯ãƒ³ = $0.000013ï¼ˆç´„0.002å††ï¼‰
```

### ã‚¹ã‚±ãƒ¼ãƒ«åˆ¥ã‚³ã‚¹ãƒˆè©¦ç®—

| ä¼æ¥­æ•° | å¢—åˆ†APIå‘¼ã³å‡ºã— | å¢—åˆ†ã‚³ã‚¹ãƒˆ | ç´¯ç©ã‚³ã‚¹ãƒˆ |
|--------|----------------|------------|------------|
| 63ç¤¾   | 1ç¤¾Ã—4å›        | $0.000013  | $0.500013  |
| 100ç¤¾  | 38ç¤¾Ã—4å›       | $0.000494  | $0.500494  |
| 200ç¤¾  | 138ç¤¾Ã—4å›      | $0.001794  | $0.501794  |
| 500ç¤¾  | 438ç¤¾Ã—4å›      | $0.005694  | $0.505694  |

### è¨ˆç®—æ™‚é–“ã®æ¨ç§»

| ä¼æ¥­æ•° | ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã‚µã‚¤ã‚º | å¢—åˆ†è¨ˆç®—æ™‚é–“ | å…¨ä½“å†è¨ˆç®—æ™‚é–“ |
|--------|-------------------|--------------|----------------|
| 62ç¤¾   | 62Ã—62            | -            | 3ç§’            |
| 63ç¤¾   | 63Ã—63            | 0.1ç§’        | 3.1ç§’          |
| 100ç¤¾  | 100Ã—100          | 1.6ç§’        | 8ç§’            |
| 200ç¤¾  | 200Ã—200          | 3.2ç§’        | 32ç§’           |
| 500ç¤¾  | 500Ã—500          | 8ç§’          | 200ç§’          |

## å®Ÿè£…æˆ¦ç•¥

### 1. å¢—åˆ†æ›´æ–°ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
```javascript
// æ–°è¦ä¼æ¥­è¿½åŠ æ™‚ã®åŠ¹ç‡çš„ãªæ›´æ–°
async function addCompanyToAnalysis(newCompany, existingAnalysis) {
  // 1. æ–°è¦ä¼æ¥­ã®Embeddingç”Ÿæˆï¼ˆAPIã‚³ã‚¹ãƒˆç™ºç”Ÿï¼‰
  const newEmbeddings = await generateEmbeddings(newCompany);
  
  // 2. æ—¢å­˜ä¼æ¥­ã¨ã®é¡ä¼¼åº¦è¨ˆç®—ï¼ˆãƒ­ãƒ¼ã‚«ãƒ«è¨ˆç®—ã®ã¿ï¼‰
  const similarities = existingAnalysis.companies.map(company => ({
    company,
    similarity: cosineSimilarity(newEmbeddings.combined, company.embeddings.combined)
  }));
  
  // 3. ãƒãƒˆãƒªãƒƒã‚¯ã‚¹æ›´æ–°ï¼ˆæ–°ã—ã„è¡Œ/åˆ—è¿½åŠ ï¼‰
  updateSimilarityMatrix(existingAnalysis.matrix, similarities);
  
  return updatedAnalysis;
}
```

### 2. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
- **Level 1**: Embeddingçµæœã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼ˆé‡è¤‡è¨ˆç®—å›é¿ï¼‰
- **Level 2**: é¡ä¼¼åº¦è¨ˆç®—çµæœã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥
- **Level 3**: å¯è¦–åŒ–ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥

### 3. æ®µéšçš„ãƒ­ãƒ¼ãƒ‰
```javascript
// å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ã®æ®µéšçš„å‡¦ç†
const BATCH_SIZE = 10;

async function processLargeDataset(companies) {
  for (let i = 0; i < companies.length; i += BATCH_SIZE) {
    const batch = companies.slice(i, i + BATCH_SIZE);
    await processBatch(batch);
    
    // UIæ›´æ–° + ä¸­é–“ä¿å­˜
    updateUI(getCurrentProgress());
    await saveIntermediateResults();
  }
}
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å´
- **ä»®æƒ³åŒ–**: å¤§ããªãƒãƒˆãƒªãƒƒã‚¯ã‚¹ã®è¡¨ç¤ºæœ€é©åŒ–
- **WebWorker**: é¡ä¼¼åº¦è¨ˆç®—ã‚’ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®Ÿè¡Œ
- **Canvasæç”»**: SVGã‹ã‚‰Canvasã«å¤‰æ›´ï¼ˆå¤§é‡ãƒ‡ãƒ¼ã‚¿ï¼‰

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´
- **ãƒ™ã‚¯ãƒˆãƒ«DB**: Redis/Pineconeã§é«˜é€Ÿæ¤œç´¢
- **ä¸¦åˆ—å‡¦ç†**: è¤‡æ•°ã®Embeddingä¸¦åˆ—ç”Ÿæˆ
- **åˆ†æ•£è¨ˆç®—**: å¤§è¦æ¨¡æ™‚ã¯Workeråˆ†æ•£

## ç¾å®Ÿçš„ãªé‹ç”¨é™ç•Œ

### æ¨å¥¨ä¼æ¥­æ•°
- **å¿«é©å‹•ä½œ**: ~200ç¤¾ï¼ˆé¡ä¼¼åº¦ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ 200Ã—200 = 40,000ã‚»ãƒ«ï¼‰
- **å‹•ä½œé™ç•Œ**: ~500ç¤¾ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãƒ¡ãƒ¢ãƒªé™ç•Œï¼‰

### 500ç¤¾è¶…ã®å ´åˆ
1. **ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³**å°å…¥ï¼ˆPinecone/Weaviateï¼‰
2. **é¡ä¼¼åº¦ã®Top-Kæ¤œç´¢**ï¼ˆå…¨ãƒãƒˆãƒªãƒƒã‚¯ã‚¹ä¸è¦ï¼‰
3. **ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰åˆ†æ**ï¼ˆçµæœã®ã¿ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é€ä¿¡ï¼‰

## çµè«–

### 1ç¤¾è¿½åŠ ã®å®Ÿéš›ã‚³ã‚¹ãƒˆ
- **APIã‚³ã‚¹ãƒˆ**: ç´„$0.000013ï¼ˆ0.002å††ï¼‰
- **è¨ˆç®—æ™‚é–“**: ç´„0.1ç§’ï¼ˆå¢—åˆ†æ›´æ–°ï¼‰
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: +125KBç¨‹åº¦

### ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£
- **100ç¤¾ã¾ã§**: ç¾è¡Œã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã§å¿«é©å‹•ä½œ
- **200ç¤¾ã¾ã§**: è»½å¾®ãªæœ€é©åŒ–ã§å¯¾å¿œå¯èƒ½
- **500ç¤¾ä»¥ä¸Š**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£åˆ·æ–°ãŒå¿…è¦

**çµè«–**: ä¼æ¥­æ•°ã®å¢—åŠ ã«å¯¾ã—ã¦ã€APIã‚³ã‚¹ãƒˆã¯ç·šå½¢ã€è¨ˆç®—ã‚³ã‚¹ãƒˆã¯å®šæ•°æ™‚é–“ï¼ˆå¢—åˆ†æ›´æ–°ï¼‰ã§éå¸¸ã«åŠ¹ç‡çš„ã§ã™ã€‚